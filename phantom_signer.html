
<!DOCTYPE html>
<html>
  <head>
    <title>Phantom Signer (Offline)</title>
    <script src="bs58.min.js"></script>
  </head>
  <body>
    <h2>Sign "Sign-in to Rugcheck.xyz"</h2>
    <button onclick="signMessage()">Sign with Phantom</button>
    <pre id="output"></pre>

    <script>
      async function signMessage() {
        const provider = window.solana;

        if (!provider?.isPhantom) {
          alert("Phantom wallet not found.");
          return;
        }

        await provider.connect();

        const message = "Sign-in to Rugcheck.xyz";
        const encodedMessage = new TextEncoder().encode(message);
        const signed = await provider.signMessage(encodedMessage, "utf8");

        const output = {
          publicKey: signed.publicKey.toString(),
          signature_base58: bs58.encode(signed.signature),
          signature_bytes: Array.from(signed.signature)
        };

        document.getElementById("output").textContent = JSON.stringify(output, null, 2);
      }
    </script>
  </body>
</html>
